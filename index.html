<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—°ì•  ì§‘ì°©ë„ í…ŒìŠ¤íŠ¸ - ê²°ê³¼ í™•ì¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Malgun Gothic", sans-serif;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 700px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        h1 {
            text-align: center;
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 2em;
        }

        .subtitle {
            text-align: center;
            color: #718096;
            margin-bottom: 40px;
        }

        .message-section {
            background: #f7fafc;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .result-section {
            display: none;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 2px solid #e2e8f0;
        }

        .result-type {
            display: inline-block;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 1.5em;
            font-weight: bold;
            margin-top: 20px;
        }

        .type-danger { 
            background: #fee; 
            color: #dc3545; 
            border: 2px solid #dc3545;
        }
        .type-warning { 
            background: #fff3cd; 
            color: #ff6348; 
            border: 2px solid #ff6348;
        }
        .type-caution { 
            background: #fff8e1; 
            color: #ffa500; 
            border: 2px solid #ffa500;
        }
        .type-stable { 
            background: #e8f5e9; 
            color: #28a745; 
            border: 2px solid #28a745;
        }

        .total-score {
            font-size: 1.2em;
            color: #4a5568;
            margin-top: 10px;
        }

        .scale-item {
            background: #f7fafc;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }

        .scale-name {
            font-weight: bold;
            color: #2d3748;
            font-size: 1.1em;
        }

        .scale-score {
            color: #4a5568;
            margin-top: 5px;
        }

        .scale-desc {
            font-size: 0.9em;
            color: #718096;
            margin-top: 5px;
        }

        .high-score {
            color: #dc3545;
            font-weight: bold;
        }

        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 20px;
            border-radius: 10px;
            margin: 30px 0;
            text-align: center;
        }

        .info-section {
            background: #edf2f7;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-top: 40px;
        }

        .loading {
            text-align: center;
            margin: 40px 0;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #f093fb;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ’• ì—°ì•  ì§‘ì°©ë„ í…ŒìŠ¤íŠ¸</h1>
        <p class="subtitle">ê²€ì‚¬ ê²°ê³¼ í™•ì¸</p>

        <!-- ë©”ì‹œì§€ ì„¹ì…˜ -->
        <div id="messageSection" class="message-section">
            <div class="loading">
                <div class="spinner"></div>
                <h3>ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</h3>
                <p style="color: #718096; margin-top: 10px;">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>
            </div>
        </div>

        <!-- ê²°ê³¼ í‘œì‹œ ì„¹ì…˜ -->
        <div id="resultSection" class="result-section">
            <div class="result-header">
                <h2>ê²€ì‚¬ ê²°ê³¼</h2>
                <div id="resultType" class="result-type"></div>
                <div id="totalScore" class="total-score"></div>
            </div>

            <h3 style="margin-bottom: 20px;">ğŸ“Š í•˜ìœ„ ì²™ë„ ìƒì„¸</h3>
            <div id="scaleResults">
                <!-- ì²™ë„ë³„ ê²°ê³¼ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>

            <div id="warningBox" class="warning-box" style="display: none;">
                <!-- ê²½ê³  ë©”ì‹œì§€ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>

            <div class="info-section">
                <p>âš ï¸ ìƒì„¸ í•´ì„ê³¼ ë§ì¶¤ ì¡°ì–¸ì€ ì´ë©”ì¼ ì…ë ¥ìì— í•œí•´ ê°œë³„ ë°œì†¡ë©ë‹ˆë‹¤.</p>
                <p style="margin-top: 10px;">ê²°ê³¼ ë¦¬í¬íŠ¸ë¥¼ ë‹¤ì‹œ ë°›ê³  ì‹¶ìœ¼ì‹œë©´ ê²€ì‚¬ ë§ˆì§€ë§‰ í˜ì´ì§€ì—ì„œ ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
            </div>
        </div>
    </div>

    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ì‹¤í–‰
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const responseId = urlParams.get('id');
            
            if (responseId) {
                // 1.5ì´ˆ í›„ ê²°ê³¼ í‘œì‹œ (ë¡œë”© íš¨ê³¼)
                setTimeout(() => {
                    showResultById(responseId);
                }, 1500);
            } else {
                document.getElementById('messageSection').innerHTML = `
                    <h3 style="color: #e53e3e;">ì˜ëª»ëœ ì ‘ê·¼ì…ë‹ˆë‹¤</h3>
                    <p style="margin-top: 10px;">ì˜¬ë°”ë¥¸ ê²°ê³¼ ë§í¬ë¥¼ í†µí•´ ì ‘ì†í•´ì£¼ì„¸ìš”.</p>
                `;
            }
        };

        function showResultById(id) {
            // ì‘ë‹µ ë²ˆí˜¸ë³„ ê²°ê³¼ ë°ì´í„°
            // ì‹¤ì œë¡œëŠ” ì—‘ì…€ì—ì„œ ê³„ì‚°í•œ ê²°ê³¼ë¥¼ ì—¬ê¸°ì— ë„£ì–´ì•¼ í•¨
            const results = {
                '1': {
                    type: 'ì£¼ì˜í˜•',
                    totalScore: 98,
                    scores: {
                        'ê´€ê³„ì§‘ì°©ì„±': { score: 4.4, level: 'ë†’ìŒ' },
                        'í†µì œìš•êµ¬': { score: 2.5, level: 'ë³´í†µ' },
                        'ê±°ì ˆë¯¼ê°ì„±': { score: 2.2, level: 'ë‚®ìŒ' },
                        'ìê¸°ì¤‘ì‹¬ì„±': { score: 2.8, level: 'ë³´í†µ' },
                        'ì—°ì• ì‹ ë…': { score: 2.0, level: 'ë‚®ìŒ' }
                    }
                },
                '2': {
                    type: 'ì•ˆì •í˜•',
                    totalScore: 85,
                    scores: {
                        'ê´€ê³„ì§‘ì°©ì„±': { score: 2.1, level: 'ë‚®ìŒ' },
                        'í†µì œìš•êµ¬': { score: 2.3, level: 'ë‚®ìŒ' },
                        'ê±°ì ˆë¯¼ê°ì„±': { score: 2.0, level: 'ë‚®ìŒ' },
                        'ìê¸°ì¤‘ì‹¬ì„±': { score: 1.8, level: 'ë‚®ìŒ' },
                        'ì—°ì• ì‹ ë…': { score: 1.9, level: 'ë‚®ìŒ' }
                    }
                }
                // ë” ë§ì€ ì‘ë‹µì ë°ì´í„° ì¶”ê°€...
            };
            
            if (results[id]) {
                displayResult(results[id]);
            } else {
                document.getElementById('messageSection').innerHTML = `
                    <div style="text-align: center;">
                        <h3 style="color: #e53e3e;">ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h3>
                        <p style="margin-top: 10px;">ê²°ê³¼ê°€ ì•„ì§ ì²˜ë¦¬ ì¤‘ì´ê±°ë‚˜ ì˜ëª»ëœ ë²ˆí˜¸ì…ë‹ˆë‹¤.</p>
                    </div>
                `;
            }
        }

        function displayResult(result) {
            document.getElementById('messageSection').style.display = 'none';
            document.getElementById('resultSection').style.display = 'block';
            
            // ìœ í˜•ë³„ ìŠ¤íƒ€ì¼ í´ë˜ìŠ¤
            const typeClasses = {
                'ìœ„í—˜í˜•': 'type-danger',
                'ê²½ê³„í˜•': 'type-warning',
                'ì£¼ì˜í˜•': 'type-caution',
                'ì•ˆì •í˜•': 'type-stable'
            };
            
            const typeEmojis = {
                'ìœ„í—˜í˜•': 'ğŸ”´',
                'ê²½ê³„í˜•': 'ğŸŸ ',
                'ì£¼ì˜í˜•': 'ğŸŸ¡',
                'ì•ˆì •í˜•': 'ğŸŸ¢'
            };
            
            // ê¸°ë³¸ ì •ë³´
            const resultType = document.getElementById('resultType');
            resultType.textContent = `${typeEmojis[result.type]} ${result.type}`;
            resultType.className = `result-type ${typeClasses[result.type]}`;
            
            document.getElementById('totalScore').textContent = `ì´ì : ${result.totalScore}ì  / 210ì `;
            
            // ì²™ë„ë³„ ê²°ê³¼
            const scaleResults = document.getElementById('scaleResults');
            scaleResults.innerHTML = '';
            
            let hasHighScore = false;
            let highScales = [];
            
            Object.entries(result.scores).forEach(([scale, data]) => {
                const scaleItem = document.createElement('div');
                scaleItem.className = 'scale-item';
                
                // ì²™ë„ ì„¤ëª…
                const scaleDescs = {
                    'ê´€ê³„ì§‘ì°©ì„±': 'ìƒëŒ€ë°©ì— ëŒ€í•œ ê³¼ë„í•œ ê´€ì‹¬ê³¼ í™•ì¸ ìš•êµ¬ë¥¼ ë‹¤ë£¨ëŠ” ì²™ë„ì…ë‹ˆë‹¤.',
                    'í†µì œìš•êµ¬': 'ìƒëŒ€ë°©ì˜ ì¼ì •, í–‰ë™, ê´€ê³„ë¥¼ ì¡°ìœ¨í•˜ë ¤ëŠ” ê²½í–¥ì…ë‹ˆë‹¤.',
                    'ê±°ì ˆë¯¼ê°ì„±': 'ê±°ì ˆì´ë‚˜ ë¬´ì‹œì— ëŒ€í•œ ì •ì„œì  ë°˜ì‘ ë¯¼ê°ë„ë¥¼ ì¸¡ì •í•©ë‹ˆë‹¤.',
                    'ìê¸°ì¤‘ì‹¬ì„±': 'ì—°ì• ì—ì„œ ìì‹ ì˜ ì‹œê°ì´ë‚˜ ê°ì •ì— ì§‘ì¤‘í•˜ëŠ” ê²½í–¥ì…ë‹ˆë‹¤.',
                    'ì—°ì• ì‹ ë…': 'ì—°ì• ì— ëŒ€í•œ ê³ ì •ê´€ë… ë˜ëŠ” ì´ìƒí™” ê²½í–¥ì„ ì¸¡ì •í•©ë‹ˆë‹¤.'
                };
                
                if (data.score >= 4.0) {
                    hasHighScore = true;
                    highScales.push(scale);
                }
                
                const scoreClass = data.score >= 4.0 ? 'high-score' : '';
                
                scaleItem.innerHTML = `
                    <div class="scale-name">${scale}</div>
                    <div class="scale-score">
                        <span class="${scoreClass}">${data.score}ì </span> (${data.level})
                    </div>
                    <div class="scale-desc">${scaleDescs[scale]}</div>
                `;
                
                scaleResults.appendChild(scaleItem);
            });
            
            // ê²½ê³  ë©”ì‹œì§€
            if (hasHighScore) {
                const warningBox = document.getElementById('warningBox');
                warningBox.style.display = 'block';
                warningBox.innerHTML = `
                    âš ï¸ <strong>ì£¼ì˜:</strong> ì¼ë¶€ ì²™ë„(${highScales.join(', ')})ì—ì„œ ë†’ì€ ë°˜ì‘ì´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
                    í•´ë‹¹ ì˜ì—­ì—ì„œì˜ ê°ì • ê´€ë¦¬ë‚˜ ê´€ê³„ ë°©ì‹ì— ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.
                `;
            }
        }
    </script>
</body>
</html>
