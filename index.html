<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—°ì•  ì„±í–¥ ê²€ì‚¬ ê°„ë‹¨ ê²°ê³¼</title>
    <style>
        body { 
            font-family: "ë§‘ì€ ê³ ë”•", sans-serif; 
            padding: 2em; 
            max-width: 700px; 
            margin: auto;
            background-color: #f5f5f5;
        }
        h1 { 
            color: #333366; 
            font-size: 1.8em;
            margin-bottom: 30px;
        }
        .box { 
            border: 1px solid #ccc; 
            padding: 1.5em; 
            margin-top: 2em; 
            border-radius: 10px; 
            background-color: #ffffff; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .highlight { 
            font-weight: bold; 
            color: #cc0000; 
        }
        .scale-block { 
            margin-bottom: 1.2em; 
            padding: 10px 0;
        }
        .scale-name {
            font-weight: bold;
            color: #333366;
        }
        .type-danger { color: #dc3545; }
        .type-warning { color: #fd7e14; }
        .type-caution { color: #ffc107; }
        .type-safe { color: #28a745; }
        
        hr {
            border: none;
            border-top: 1px solid #e0e0e0;
            margin: 20px 0;
        }
        
        h3 {
            color: #333366;
            margin-bottom: 15px;
        }
        
        .warning-box {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-top: 20px;
        }
        
        .loading {
            text-align: center;
            padding: 50px;
            color: #666;
        }
    </style>
</head>
<body>
    <h1>ğŸ“‹ ì—°ì•  ì„±í–¥ ê²€ì‚¬ ê°„ë‹¨ ê²°ê³¼</h1>
    
    <div id="loading" class="loading">ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</div>
    
    <div class="box" id="resultBox" style="display: none;">
        <p><strong id="userName"></strong>ë‹˜ì˜ ê²€ì‚¬ ê²°ê³¼ëŠ” <span class="highlight" id="resultType"></span>ì…ë‹ˆë‹¤.</p>
        <p>ì´ì : <strong id="totalScore"></strong></p>

        <hr>
        <h3>ğŸ“Š í•˜ìœ„ ì²™ë„ ìš”ì•½</h3>
        <div id="scaleResults"></div>

        <hr>
        <p>âš ï¸ ìƒì„¸ í•´ì„ê³¼ ë§ì¶¤ ì¡°ì–¸ì€ ì´ë©”ì¼ ì…ë ¥ìì— í•œí•´ ê°œë³„ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
        <p>ê²°ê³¼ ë¦¬í¬íŠ¸ë¥¼ ë‹¤ì‹œ ë°›ê³  ì‹¶ìœ¼ì‹œë©´ ê²€ì‚¬ ë§ˆì§€ë§‰ í˜ì´ì§€ì—ì„œ ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
    </div>

    <script>
        // URL íŒŒë¼ë¯¸í„° ê°€ì ¸ì˜¤ê¸°
        function getUrlParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                name: params.get('name') || 'ê²€ì‚¬ì',
                att: parseInt(params.get('att')) || 0,
                con: parseInt(params.get('con')) || 0,
                rej: parseInt(params.get('rej')) || 0,
                self: parseInt(params.get('self')) || 0,
                bel: parseInt(params.get('bel')) || 0,
                dec1: parseInt(params.get('dec1')) || 0,
                dec2: parseInt(params.get('dec2')) || 0
            };
        }

        // ì²™ë„ë³„ ìˆ˜ì¤€ íŒì •
        function getLevel(score, maxScore) {
            const average = (score / maxScore) * 5;
            if (average >= 4.0) return { level: 'ë†’ìŒ', caution: true };
            else if (average >= 2.5) return { level: 'ë³´í†µ', caution: false };
            else return { level: 'ë‚®ìŒ', caution: false };
        }

        // ê²°ê³¼ í‘œì‹œ
        function displayResult() {
            const params = getUrlParams();
            
            // ì´ë¦„ í‘œì‹œ
            document.getElementById('userName').textContent = params.name;
            
            // ì´ì  ê³„ì‚°
            const scaleTotal = params.att + params.con + params.rej + params.self + params.bel;
            const decisionScore = (params.dec1 * 5) + (params.dec2 * 5);
            const totalScore = scaleTotal + decisionScore;
            const hasDecisionItem = params.dec1 > 0 || params.dec2 > 0;
            
            // ê²°ê³¼ ìœ í˜• íŒì •
            let resultType = '';
            let typeClass = '';
            
            if (hasDecisionItem && totalScore >= 158) {
                resultType = 'ğŸ”´ ìœ„í—˜í˜•';
                typeClass = 'type-danger';
            } else if (hasDecisionItem && totalScore < 158) {
                resultType = 'ğŸŸ  ê²½ê³„í˜•';
                typeClass = 'type-warning';
            } else if (!hasDecisionItem && totalScore >= 147) {
                resultType = 'ğŸŸ¡ ì£¼ì˜í˜•';
                typeClass = 'type-caution';
            } else {
                resultType = 'ğŸŸ¢ ì•ˆì •í˜•';
                typeClass = 'type-safe';
            }
            
            document.getElementById('resultType').innerHTML = `<span class="${typeClass}">${resultType}</span>`;
            document.getElementById('totalScore').textContent = `${totalScore}ì  / 210ì `;
            
            // ì²™ë„ë³„ ê²°ê³¼
            const scales = [
                { name: 'ê´€ê³„ì§‘ì°©ì„±', score: params.att, max: 50, 
                  desc: {
                    high: 'ìƒëŒ€ë°©ì— ëŒ€í•œ ê³¼ë„í•œ ê´€ì‹¬ê³¼ í™•ì¸ ìš•êµ¬ë¥¼ ë‹¤ë£¨ëŠ” ì²™ë„ì…ë‹ˆë‹¤.',
                    medium: 'ìƒëŒ€ë°©ì˜ ì¼ì •, í–‰ë™, ê´€ê³„ë¥¼ ì¡°ìœ¨í•˜ë ¤ëŠ” ê²½í–¥ì…ë‹ˆë‹¤.',
                    low: 'ê±°ì ˆì´ë‚˜ ë¬´ì‹œì— ëŒ€í•œ ì •ì„œì  ë°˜ì‘ ë¯¼ê°ë„ë¥¼ ì¸¡ì •í•©ë‹ˆë‹¤.'
                  }
                },
                { name: 'í†µì œìš•êµ¬', score: params.con, max: 50,
                  desc: {
                    high: 'ìƒëŒ€ë°©ì˜ ì¼ì •, í–‰ë™, ê´€ê³„ë¥¼ ì¡°ìœ¨í•˜ë ¤ëŠ” ê²½í–¥ì…ë‹ˆë‹¤.',
                    medium: 'ìƒëŒ€ë°©ì˜ ì¼ì •, í–‰ë™, ê´€ê³„ë¥¼ ì¡°ìœ¨í•˜ë ¤ëŠ” ê²½í–¥ì…ë‹ˆë‹¤.',
                    low: 'ìƒëŒ€ë°©ì˜ ì¼ì •, í–‰ë™, ê´€ê³„ë¥¼ ì¡°ìœ¨í•˜ë ¤ëŠ” ê²½í–¥ì…ë‹ˆë‹¤.'
                  }
                },
                { name: 'ê±°ì ˆë¯¼ê°ì„±', score: params.rej, max: 50,
                  desc: {
                    high: 'ê±°ì ˆì´ë‚˜ ë¬´ì‹œì— ëŒ€í•œ ì •ì„œì  ë°˜ì‘ ë¯¼ê°ë„ë¥¼ ì¸¡ì •í•©ë‹ˆë‹¤.',
                    medium: 'ê±°ì ˆì´ë‚˜ ë¬´ì‹œì— ëŒ€í•œ ì •ì„œì  ë°˜ì‘ ë¯¼ê°ë„ë¥¼ ì¸¡ì •í•©ë‹ˆë‹¤.',
                    low: 'ê±°ì ˆì´ë‚˜ ë¬´ì‹œì— ëŒ€í•œ ì •ì„œì  ë°˜ì‘ ë¯¼ê°ë„ë¥¼ ì¸¡ì •í•©ë‹ˆë‹¤.'
                  }
                },
                { name: 'ìê¸°ì¤‘ì‹¬ì„±', score: params.self, max: 25,
                  desc: {
                    high: 'ì—°ì• ì—ì„œ ìì‹ ì˜ ì‹œê°ì´ë‚˜ ê°ì •ì— ì§‘ì¤‘í•˜ëŠ” ê²½í–¥ì…ë‹ˆë‹¤.',
                    medium: 'ì—°ì• ì—ì„œ ìì‹ ì˜ ì‹œê°ì´ë‚˜ ê°ì •ì— ì§‘ì¤‘í•˜ëŠ” ê²½í–¥ì…ë‹ˆë‹¤.',
                    low: 'ì—°ì• ì—ì„œ ìì‹ ì˜ ì‹œê°ì´ë‚˜ ê°ì •ì— ì§‘ì¤‘í•˜ëŠ” ê²½í–¥ì…ë‹ˆë‹¤.'
                  }
                },
                { name: 'ì—°ì• ì‹ ë…', score: params.bel, max: 25,
                  desc: {
                    high: 'ì—°ì• ì— ëŒ€í•œ ê³ ì •ê´€ë… ë˜ëŠ” ì´ìƒí™” ê²½í–¥ì„ ì¸¡ì •í•©ë‹ˆë‹¤.',
                    medium: 'ì—°ì• ì— ëŒ€í•œ ê³ ì •ê´€ë… ë˜ëŠ” ì´ìƒí™” ê²½í–¥ì„ ì¸¡ì •í•©ë‹ˆë‹¤.',
                    low: 'ì—°ì• ì— ëŒ€í•œ ê³ ì •ê´€ë… ë˜ëŠ” ì´ìƒí™” ê²½í–¥ì„ ì¸¡ì •í•©ë‹ˆë‹¤.'
                  }
                }
            ];
            
            let scaleHTML = '';
            scales.forEach(scale => {
                const average = (scale.score / scale.max) * 5;
                const levelInfo = getLevel(scale.score, scale.max);
                const cautionMark = levelInfo.caution ? ' âš ï¸' : '';
                
                // í•­ìƒ ë™ì¼í•œ ì„¤ëª… ì‚¬ìš© (ì´ë¯¸ì§€ì™€ ì¼ì¹˜í•˜ë„ë¡)
                const description = scale.name === 'ê´€ê³„ì§‘ì°©ì„±' ? 'ìƒëŒ€ë°©ì— ëŒ€í•œ ê³¼ë„í•œ ê´€ì‹¬ê³¼ í™•ì¸ ìš•êµ¬ë¥¼ ë‹¤ë£¨ëŠ” ì²™ë„ì…ë‹ˆë‹¤.' :
                                  scale.name === 'í†µì œìš•êµ¬' ? 'ìƒëŒ€ë°©ì˜ ì¼ì •, í–‰ë™, ê´€ê³„ë¥¼ ì¡°ìœ¨í•˜ë ¤ëŠ” ê²½í–¥ì…ë‹ˆë‹¤.' :
                                  scale.name === 'ê±°ì ˆë¯¼ê°ì„±' ? 'ê±°ì ˆì´ë‚˜ ë¬´ì‹œì— ëŒ€í•œ ì •ì„œì  ë°˜ì‘ ë¯¼ê°ë„ë¥¼ ì¸¡ì •í•©ë‹ˆë‹¤.' :
                                  scale.name === 'ìê¸°ì¤‘ì‹¬ì„±' ? 'ì—°ì• ì—ì„œ ìì‹ ì˜ ì‹œê°ì´ë‚˜ ê°ì •ì— ì§‘ì¤‘í•˜ëŠ” ê²½í–¥ì…ë‹ˆë‹¤.' :
                                  'ì—°ì• ì— ëŒ€í•œ ê³ ì •ê´€ë… ë˜ëŠ” ì´ìƒí™” ê²½í–¥ì„ ì¸¡ì •í•©ë‹ˆë‹¤.';
                
                scaleHTML += `
                    <div class="scale-block">
                        <span class="scale-name">${scale.name}${cautionMark}</span> 
                        (${average.toFixed(1)}ì , ${levelInfo.level}): ${description}
                    </div>
                `;
            });
            
            document.getElementById('scaleResults').innerHTML = scaleHTML;
            
            // ë¡œë”© ìˆ¨ê¸°ê³  ê²°ê³¼ í‘œì‹œ
            document.getElementById('loading').style.display = 'none';
            document.getElementById('resultBox').style.display = 'block';
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ê²°ê³¼ í‘œì‹œ
        window.onload = function() {
            displayResult();
        };
    </script>
</body>
</html>
